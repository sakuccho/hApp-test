{"version":3,"sources":["firebase.js","context/AuthContext.js","screens/SignUp.js","screens/Login.js","components/library_select/UserLibrarySelect.js","components/library_select/MyCorrection.js","components/library_select/MyFolder.js","imgs/4516.png","components/ArticleCreateDisplays/FirstArticleDisplay.js","components/ArticleCreateDisplays/SecondArticleDisplay.js","components/ArticleCreate.js","components/ArticleItems.js","components/DisplayTags.js","screens/Home.js","screens/UserLibrary.js","App.js","reportWebVitals.js","index.js"],"names":["firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","REACT_APP_FIREBASE_SENDER_ID","firebase","db","getFirestore","storage","getStorage","auth","getAuth","AuthContext","createContext","AuthProvider","children","useState","user","setUser","loading","setLoading","value","useEffect","unsubscribed","onAuthStateChanged","userInfo","Provider","SignUp","navigate","useNavigate","error","setError","handleSubmit","event","a","preventDefault","target","elements","email","password","createUserWithEmailAndPassword","authObject","currentUser","usersCollectionRef","collection","addDoc","user_id","uid","documentRef","console","log","message","style","color","onSubmit","name","type","placeholder","Login","signInWithEmailAndPassword","to","UserLibrarySelect","props","judge","MyCorrection","MyFolder","FirstArticleDisplay","InputFile","styled","input","Img","img","ImgCover","div","imageData","setImageData","imageUrl","setImageUrl","progress","setProgress","className","src","Pen","alt","accept","onChange","image","files","storageRef","ref","uploadTask","uploadBytesResumable","contentType","on","snapshot","percent","bytesTransferred","totalBytes","getDownloadURL","then","downloadURL","onFileChange","SecondArticleDisplay","Preview","PreviewCover","AllContainer","ArticleBody","textarea","Form","form","tags","setTags","tagsId","setTagsId","reactTags","useRef","onDelete","useCallback","tagIndex","filter","_","i","tagsCorrectionRef","q","query","where","getDocs","querySnapshot","forEach","document","n","id","onAddition","newTag","docs","length","tag_name","articleBody","body","image_path","suggestions","allowNew","ArticleCreate","move","setMove","Wrapper","Card","CardContainer","onClick","ArticleItems","Container","table","articles","setArticles","list","item","push","data","map","index","DisplayTags","tag","setTag","tagId","tagsRef","doc","getDoc","docSnap","Home","useContext","signOut","UserLibrary","setJudge","App","margin","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"0QAKMA,EAAiB,CACrBC,OAAQC,0CACRC,WAAYD,6BACZE,UAAWF,aACXG,cAAeH,yBACfI,kBAAmBJ,eACnBK,MAAOL,+hBAAYM,8BAGrBC,gBAAuBT,GACRS,IAEFC,EAAKC,cACLC,EAAUC,cACVC,EAAOC,c,OChBdC,EAAcC,0BAMb,SAASC,EAAT,GAAqC,IAAbC,EAAY,EAAZA,SAC7B,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8BF,mBAAS,QAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEMC,EAAQ,CACZJ,OACAE,WAaF,OAVAG,qBAAU,WACR,IAAMC,EAAeb,EAAKc,oBAAmB,SAACC,GAC5CP,EAAQO,GACRL,GAAW,MAEb,OAAO,WACLG,OAED,IAECJ,EACK,2CAEA,cAACP,EAAYc,SAAb,CAAsBL,MAAOA,EAA7B,SAAqCN,I,+DCwBjCY,EA/CA,WACb,IAAMC,EAAWC,cACjB,EAA0Bb,mBAAS,IAAnC,mBAAOc,EAAP,KAAcC,EAAd,KACMC,EAAY,uCAAG,WAAOC,GAAP,2BAAAC,EAAA,6DACnBD,EAAME,iBADa,EAESF,EAAMG,OAAOC,SAAjCC,EAFW,EAEXA,MAAOC,EAFI,EAEJA,SAFI,kBAIXC,YAA+B9B,EAAM4B,EAAMjB,MAAOkB,EAASlB,OAJhD,UAKXoB,EAAa9B,cAEN,QADPM,EAAOwB,EAAWC,aANP,wBAQTC,EAAqBC,YAAWtC,EAAI,SAR3B,UASWuC,YAAOF,EAAoB,CACnDG,QAAS7B,EAAK8B,IACdT,MAAOA,EAAMjB,MACbkB,SAAUA,EAASlB,QAZN,QAST2B,EATS,OAcfC,QAAQC,IAAIF,GACZpB,EAAS,cAfM,0DAkBjBqB,QAAQC,IAAR,MACAnB,EAAS,KAAMoB,SAnBE,0DAAH,sDAuBlB,OACE,gCACE,gEACCrB,GAAS,mBAAGsB,MAAO,CAAEC,MAAO,OAAnB,wGACV,uBAAMC,SAAUtB,EAAhB,UACE,gCACE,+EACA,uBAAOuB,KAAK,QAAQC,KAAK,QAAQC,YAAY,aAE/C,gCACE,mEACA,uBAAOF,KAAK,WAAWC,KAAK,gBAE9B,8BACE,2D,QCHKE,EAxCD,WACZ,IAAM9B,EAAWC,cACjB,EAA0Bb,mBAAS,IAAnC,mBAAOc,EAAP,KAAcC,EAAd,KACMC,EAAY,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DACnBD,EAAME,iBADa,EAESF,EAAMG,OAAOC,SAAjCC,EAFW,EAEXA,MAAOC,EAFI,EAEJA,SACfU,QAAQC,IAAIjB,EAAMG,OAAOC,UAHN,kBAKXsB,YAA2BjD,EAAM4B,EAAMjB,MAAOkB,EAASlB,OAL5C,OAMjBO,EAAS,cANQ,gDAQjBqB,QAAQC,IAAR,MACAnB,EAAS,KAAMoB,SATE,yDAAH,sDAalB,OACE,gCACE,0DACCrB,GAAS,mBAAGsB,MAAO,CAAEC,MAAO,OAAnB,8GACV,uBAAMC,SAAUtB,EAAhB,UACE,gCACE,+EACA,uBAAOuB,KAAK,QAAQC,KAAK,QAAQC,YAAY,aAE/C,gCACE,mEACA,uBAAOF,KAAK,WAAWC,KAAK,WAAWC,YAAY,gBAErD,8BACE,gEAEF,6EACS,cAAC,IAAD,CAAMG,GAAI,oBAAV,gCADT,yBC1BOC,EARW,SAACC,GACzB,OAAIA,EAAMC,MACD,cAAC,EAAD,IAEA,cAAC,EAAD,KCGIC,EARM,WACnB,OACE,8BACE,4CCKSC,EARE,WACf,OACE,8BACE,2C,gBCLS,MAA0B,iCC0F1BC,EAnFa,WAC1B,IAAMC,EAAYC,IAAOC,MAAV,kDAITC,EAAMF,IAAOG,IAAV,+CAIHC,EAAWJ,IAAOK,IAAV,qDAKd,EAAkCzD,mBAAS,IAA3C,mBAAO0D,EAAP,KAAkBC,EAAlB,KACA,EAAgC3D,mBAAS,IAAzC,mBAAO4D,EAAP,KAAiBC,EAAjB,KACA,EAAgC7D,mBAAS,KAAzC,mBAAO8D,EAAP,KAAiBC,EAAjB,KAkCA,MAAkB,KAAdL,EAEA,qCACE,4EACA,qBAAKM,UAAU,eACf,8BACE,eAACR,EAAD,WACE,cAACF,EAAD,CAAKW,IAAKC,EAAKC,IAAI,KACnB,4EACA,wBAAOH,UAAU,YAAjB,+EAEE,cAACb,EAAD,CACEX,KAAK,OACLD,KAAK,YACL6B,OAAO,UACPC,SAAU,SAACd,IA/CJ,SAACA,GACpB,IAAMe,EAAQf,EAAInC,OAAOmD,MAAM,GAC/BZ,EAAaW,GAEbrC,QAAQC,IAAI,oDACZ,IAGMsC,EAAaC,YAAIjF,EAAS,UAAY8E,EAAM/B,MAC5CmC,EAAaC,YAAqBH,EAAYF,EAJnC,CACfM,YAAa,eAIfF,EAAWG,GACT,iBACA,SAACC,GACC7C,QAAQC,IAAI,WAAY4C,GACxB,IAAMC,EAAWD,EAASE,iBAAmBF,EAASG,WAAc,IACpEhD,QAAQC,IAAI6C,EAAU,UACtBhB,EAAYgB,GACZ9C,QAAQC,IAAI4B,MAEd,SAAChD,GACCmB,QAAQC,IAAI,MAAOpB,GACnBiD,EAAY,QAEd,WACEmB,YAAeR,EAAWI,SAASL,KAAKU,MAAK,SAACC,GAC5CnD,QAAQC,IAAI,oBAAqBkD,GACjCvB,EAAYuB,SAsBJC,CAAa9B,iBAUzB,mCACE,cAAC,EAAD,CAAsBK,SAAUA,O,yBCiDzB0B,G,MA3Hc,SAACxC,GAC5B,IAAMyC,EAAUnC,IAAOG,IAAV,gDAIPiC,EAAepC,IAAOK,IAAV,mEAKZgC,EAAerC,IAAOK,IAAV,iHAOZiC,EAActC,IAAOuC,SAAV,sFAMXC,EAAOxC,IAAOyC,KAAV,kEAKJjF,EAAWC,cAGjB,EAAwBb,mBAAS,IAAjC,mBAAO8F,EAAP,KAAaC,EAAb,KACA,EAA4B/F,mBAAS,IAArC,mBAAOgG,EAAP,KAAeC,EAAf,KAEMC,EAAYC,mBAEZC,EAAWC,sBAAW,uCAC1B,WAAOC,GAAP,mBAAApF,EAAA,6DACE6E,EAAQD,EAAKS,QAAO,SAACC,EAAGC,GAAJ,OAAUA,IAAMH,MAE9BI,EAAoB9E,YAAWtC,EAAI,QACnCqH,EAAIC,YACRF,EACAG,YAAM,WAAY,KAAMf,EAAKQ,GAAU/D,OAN3C,SAQ8BuE,YAAQH,GARtC,OAQQI,EARR,OASE9E,QAAQC,IAAI6E,GACZA,EAAcC,QAAd,uCAAsB,WAAOC,GAAP,SAAA/F,EAAA,sDACpB+E,EAAUD,EAAOO,QAAO,SAACW,GAAD,OAAOA,IAAMD,EAASE,OAD1B,2CAAtB,uDAVF,2CAD0B,sDAe1B,CAACrB,EAAME,IAGHoB,EAAaf,sBAAW,uCAC5B,WAAOgB,GAAP,qBAAAnG,EAAA,6DACE6E,EAAQ,GAAD,mBAAKD,GAAL,CAAWuB,KACZX,EAAoB9E,YAAWtC,EAAI,QACnCqH,EAAIC,YAAMF,EAAmBG,YAAM,WAAY,KAAMQ,EAAO9E,OAHpE,SAI8BuE,YAAQH,GAJtC,WAIQI,EAJR,QAMqBO,KAAKC,OAN1B,iCAQ8B1F,YAAO6E,EAAmB,CAClDc,SAAUH,EAAO9E,OATvB,OAQUP,EARV,OAWIiE,EAAU,GAAD,mBAAKD,GAAL,CAAahE,EAAYmF,MAXtC,wBAaIlF,QAAQC,IAAI,uDACZ+D,EAAU,GAAD,mBAAKD,GAAL,CAAae,EAAcO,KAAK,GAAGH,MAdhD,4CAD4B,sDAmB5B,CAACrB,EAAME,IAIT/D,QAAQC,IAAI8D,GAEZ,IAAMhF,EAAY,uCAAG,WAAOC,GAAP,uBAAAC,EAAA,yDACnBD,EAAME,iBACAM,EAAa9B,cACbM,EAAOwB,EAAWC,YAChB+F,EAAgBxG,EAAMG,OAAOC,SAA7BoG,YACK,OAATxH,EALe,wBAOX0B,EAAqBC,YAAWtC,EAAI,eAPzB,SAQSuC,YAAOF,EAAoB,CACnDG,QAAS7B,EAAK8B,IACd2F,KAAMD,EAAYpH,MAClBsH,WAAY7E,EAAMc,SAClBoC,WAZe,OAQXhE,EARW,OAcjBC,QAAQC,IAAIF,GACZpB,EAAS,GAfQ,4CAAH,sDAmBlB,OACE,eAAC6E,EAAD,WACE,cAACD,EAAD,UACE,cAACD,EAAD,CAAStB,IAAKnB,EAAMc,SAAUO,IAAI,eAEpC,eAACyB,EAAD,CAAMtD,SAAUtB,EAAhB,UACE,cAAC,IAAD,CACEyD,IAAKyB,EACLJ,KAAMA,EACN8B,YA7EY,CAAC,CAAET,GAAI,IAAK5E,KAAM,QA8E9B6E,WAAYA,EACZhB,SAAUA,EACVyB,UAAQ,IAEV,cAACnC,EAAD,CACEnD,KAAK,cACLC,KAAK,OACLC,YAAY,mFAEd,uBAAOD,KAAK,SAASnC,MAAM,qCCnEpByH,EAvDO,WACpB,MAAwB9H,mBAAS,QAAjC,mBAAO+H,EAAP,KAAaC,EAAb,KAGMC,EAAU7E,IAAOK,IAAV,+SAUAsE,GAIPG,EAAO9E,IAAOK,IAAV,iMAUJ0E,EAAgB/E,IAAOK,IAAV,sQAanB,OACE,qCACE,wBAAQ2E,QAzCU,kBAAMJ,EAAQ,SAyChC,0BACA,cAACC,EAAD,UACE,cAACC,EAAD,UACE,cAACC,EAAD,UACE,cAAC,EAAD,cCmCGE,EA3EM,WAEnB,IAAM9C,EAAUnC,IAAOG,IAAV,gDAIPiC,EAAepC,IAAOK,IAAV,mEAKZ6E,EAAYlF,IAAOmF,MAAV,kDAIf,EAAgCvI,mBAAS,IAAzC,mBAAOwI,EAAP,KAAiBC,EAAjB,KAyBA,OAvBAnI,qBAAU,WACR,sBAAC,oCAAAY,EAAA,6DACOO,EAAa9B,cACbc,EAAWgB,EAAWC,YACtBgH,EAAO,GAEP/G,EAAqBC,YAAWtC,EAAI,eACpCqH,EAAIC,YAAMjF,EAAoBkF,YAAM,UAAW,KAAMpG,EAASsB,MANrE,SAO6B+E,YAAQH,GAPrC,cAQeK,SAAQ,SAACC,GAErB,IAAM0B,EAAO,GACbA,EAAKC,KAAK3B,EAAS4B,OAAOlB,YAC1BgB,EAAKC,KAAK3B,EAAS4B,OAAOnB,MAC1BiB,EAAKC,KAAK3B,EAAS4B,OAAO/G,SAC1B6G,EAAKC,KAAK3B,EAAS4B,OAAO7C,QAC1B0C,EAAKE,KAAKD,MAEZF,EAAYC,GAjBb,2CAAD,KAmBC,IAID,mCACGF,EAASM,KAAI,SAACH,EAAMI,GACnB,OACE,8BACE,cAACT,EAAD,UACE,gCACE,qBAAItE,UAAU,UAAd,UACE,6BACE,cAACwB,EAAD,UACE,cAACD,EAAD,CAAStB,IAAK0E,EAAK,GAAIxE,IAAI,oBAG/B,+BACE,4BAAIwE,EAAK,KACT,8BACGA,EAAK,GAAGG,KAAI,SAAC5B,EAAG6B,GACf,OACE,qBAAkB/E,UAAU,SAA5B,SACE,cAAC,EAAD,CAAagC,OAAQkB,KADZ6B,mBAdjBA,SC5BLC,EArBK,SAAClG,GACnB,MAAsB9C,mBAAS,IAA/B,mBAAOiJ,EAAP,KAAYC,EAAZ,KAaA,OAXA5I,qBAAU,WACR,sBAAC,kCAAAY,EAAA,6DACO+H,EAAM,GACNE,EAAQrG,EAAMkD,OACdoD,EAAUC,YAAI/J,EAAI,OAAQ6J,GAHjC,SAIuBG,YAAOF,GAJ9B,OAIOG,EAJP,OAKCN,EAAIL,KAAKW,EAAQV,OAAOrB,UACxB0B,EAAOD,GANR,0CAAD,KAQA,IAGA,8BACE,4BAAIA,OCKKO,GAvBF,WAEX,IAAQvJ,EZDDwJ,qBAAW7J,GYCVK,KACFW,EAAWC,cAMjB,OAAKZ,EAID,qCACE,sCACA,wBAAQmI,QAXO,WACnB1I,EAAKgK,UACL9I,EAAS,qBASL,4CACA,cAAC,EAAD,IACA,cAAC,EAAD,OAPG,cAAC,IAAD,CAAUgC,GAAG,sBCIT+G,GAhBK,WAClB,MAA0B3J,oBAAS,GAAnC,mBAAO+C,EAAP,KAAc6G,EAAd,KAIA,OACE,sBAAK5F,UAAU,eAAf,UACE,gCACE,wBAAQoE,QANO,kBAAOwB,GAAS,IAM/B,4CACA,wBAAQxB,QANQ,kBAAOwB,GAAS,IAMhC,yCAEF,cAAC,EAAD,CAAmB7G,MAAOA,QCQjB8G,GAjBH,WACV,OACE,cAAC/J,EAAD,UACE,qBAAKsC,MAAO,CAAE0H,OAAQ,OAAtB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,aAAaC,QAAS,cAAC,GAAD,MAClC,cAAC,IAAD,CAAOD,KAAK,oBAAoBC,QAAS,cAAC,EAAD,MACzC,cAAC,IAAD,CAAOD,KAAK,mBAAmBC,QAAS,cAAC,EAAD,MACxC,cAAC,IAAD,CAAOD,KAAK,yBAAyBC,QAAS,cAAC,GAAD,gBCF3CC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBhF,MAAK,YAAkD,IAA/CiF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF1D,SAAS2D,eAAe,SAM1BX,O","file":"static/js/main.38bb85c2.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from 'firebase/firestore';\nimport { getStorage} from 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGE_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;\n\nexport const db = getFirestore();\nexport const storage = getStorage();\nexport const auth = getAuth();\n","import { createContext, useState, useContext, useEffect } from \"react\";\nimport { auth } from \"../firebase\";\n\nconst AuthContext = createContext();\n\nexport function useAuthContext() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(\"\");\n  const [loading, setLoading] = useState(\"true\");\n\n  const value = {\n    user,\n    loading,\n  };\n\n  useEffect(() => {\n    const unsubscribed = auth.onAuthStateChanged((userInfo) => {\n      setUser(userInfo);\n      setLoading(false);\n    });\n    return () => {\n      unsubscribed();\n    };\n  }, []);\n\n  if (loading) {\n    return <p>loading...</p>;\n  } else {\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n  }\n}\n","import { createUserWithEmailAndPassword, getAuth } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { db } from '../firebase';\nimport { collection, addDoc } from 'firebase/firestore';\n\n\nconst SignUp = () => {\n  const navigate = useNavigate();\n  const [error, setError] = useState('');\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const { email, password } = event.target.elements;\n    try {\n      await createUserWithEmailAndPassword(auth, email.value, password.value);\n      const authObject = getAuth();\n      const user = authObject.currentUser;\n      if (user !== null) {\n        const usersCollectionRef = collection(db, 'users');\n        const documentRef = await addDoc(usersCollectionRef, {\n          user_id: user.uid,\n          email: email.value,\n          password: password.value,\n        });\n        console.log(documentRef);\n        navigate(\"/hApp-test\");\n      }\n    } catch (error) {\n      console.log(error);\n      setError(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <h1>ユーザ登録</h1>\n      {error && <p style={{ color: 'red' }}>※入力した情報は使用できません</p>}\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>メールアドレス</label>\n          <input name=\"email\" type=\"email\" placeholder=\"email\" />\n        </div>\n        <div>\n          <label>パスワード</label>\n          <input name=\"password\" type=\"password\" />\n        </div>\n        <div>\n          <button>登録</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default SignUp;","import { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { auth } from \"../firebase\";\nimport { useState } from 'react';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [error, setError] = useState('');\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const { email, password } = event.target.elements;\n    console.log(event.target.elements);\n    try {\n      await signInWithEmailAndPassword(auth, email.value, password.value);\n      navigate(\"/hApp-test\");\n    } catch (error) {\n      console.log(error);\n      setError(error.message)\n    }\n  };\n\n  return (\n    <div>\n      <h1>ログイン</h1>\n      {error && <p style={{ color: 'red' }}>※入力した情報が間違っております</p>}\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>メールアドレス</label>\n          <input name=\"email\" type=\"email\" placeholder=\"email\" />\n        </div>\n        <div>\n          <label>パスワード</label>\n          <input name=\"password\" type=\"password\" placeholder=\"password\" />\n        </div>\n        <div>\n          <button>ログイン</button>\n        </div>\n        <div>\n          ユーザー登録は<Link to={\"/hApp-test/signup\"}>こちら</Link>から\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { MyFolder, MyCorrection } from \"../../components\";\n\nconst UserLibrarySelect = (props) => {\n  if (props.judge) {\n    return <MyFolder />;\n  } else {\n    return <MyCorrection />;\n  }\n};\n\nexport default UserLibrarySelect;\n","import React from 'react';\n\nconst MyCorrection = () => {\n  return(\n    <div>\n      <h1>correct</h1>\n    </div>\n  )\n}\n\nexport default MyCorrection;","import React from 'react';\n\nconst MyFolder = () => {\n  return(\n    <div>\n      <h1>folder</h1>\n    </div>\n  )\n}\n\nexport default MyFolder;","export default __webpack_public_path__ + \"static/media/4516.d20483bb.png\";","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { SecondArticleDisplay } from \"../../components\";\nimport Pen from \"../../imgs/4516.png\";\nimport { storage} from \"../../firebase\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\n\nconst FirstArticleDisplay = () => {\n  const InputFile = styled.input`\n    display: none;\n  `;\n\n  const Img = styled.img`\n    width: 35%;\n  `;\n\n  const ImgCover = styled.div`\n    margin-top: 80px;\n  `;\n\n  // ユーザーからの画像を取得\n  const [imageData, setImageData] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [progress, setProgress] = useState(100);\n\n  const onFileChange = (img) => {\n    const image = img.target.files[0];\n    setImageData(image);\n\n    console.log(\"アップロード処理\");\n    const metadata = {\n      contentType: \"image/jpeg\",\n    };\n    const storageRef = ref(storage, \"images/\" + image.name);\n    const uploadTask = uploadBytesResumable(storageRef, image, metadata);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        console.log(\"snapshot\", snapshot);\n        const percent = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        console.log(percent + \"% done\");\n        setProgress(percent);\n        console.log(progress);\n      },\n      (error) => {\n        console.log(\"err\", error);\n        setProgress(100); //実行中のバーを消す\n      },\n      () => {\n        getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n          console.log(\"File available at\", downloadURL);\n          setImageUrl(downloadURL);\n        });\n      }\n    )\n  };\n\n  if (imageData === \"\") {\n    return (\n      <>\n        <h4>新規添削を作成</h4>\n        <div className=\"ui divider\"></div>\n        <div>\n          <ImgCover>\n            <Img src={Pen} alt=\"\" />\n            <h4>画像を選ぼうよ</h4>\n            <label className=\"ui button\">\n              コンピューターから選択\n              <InputFile\n                type=\"file\"\n                name=\"selectImg\"\n                accept=\"image/*\"\n                onChange={(img) => {\n                  onFileChange(img);\n                }}\n              />\n            </label>\n          </ImgCover>\n        </div>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <SecondArticleDisplay imageUrl={imageUrl}/>\n      </>\n    );\n  }\n};\n\nexport default FirstArticleDisplay;\n","import React, { useCallback, useRef, useState } from \"react\";\nimport ReactTags from \"react-tag-autocomplete\";\nimport styled from \"styled-components\";\nimport \"./assets/styles/tagInput.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { collection, addDoc, query, where, getDocs } from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\nimport { db } from \"../../firebase\";\n\nconst SecondArticleDisplay = (props) => {\n  const Preview = styled.img`\n    width: 100%;\n  `;\n\n  const PreviewCover = styled.div`\n    width: 50%;\n    height: 300px;\n  `;\n\n  const AllContainer = styled.div`\n    display: flex;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n  `;\n\n  const ArticleBody = styled.textarea`\n    width: 100%;\n    height: 300px;\n    color: gray;\n  `;\n\n  const Form = styled.form`\n    width: 50%;\n    height: 100%;\n  `;\n\n  const navigate = useNavigate();\n  // tagについて\n  const suggestions = [{ id: \"1\", name: \"USA\" }];\n  const [tags, setTags] = useState([]);\n  const [tagsId, setTagsId] = useState([]);\n\n  const reactTags = useRef();\n\n  const onDelete = useCallback(\n    async (tagIndex) => {\n      setTags(tags.filter((_, i) => i !== tagIndex));\n\n      const tagsCorrectionRef = collection(db, \"tags\");\n      const q = query(\n        tagsCorrectionRef,\n        where(\"tag_name\", \"==\", tags[tagIndex].name)\n      );\n      const querySnapshot = await getDocs(q);\n      console.log(querySnapshot);\n      querySnapshot.forEach(async (document) => {\n        setTagsId(tagsId.filter((n) => n !== document.id));\n      });\n    },\n    [tags, tagsId]\n  );\n\n  const onAddition = useCallback(\n    async (newTag) => {\n      setTags([...tags, newTag]);\n      const tagsCorrectionRef = collection(db, \"tags\");\n      const q = query(tagsCorrectionRef, where(\"tag_name\", \"==\", newTag.name));\n      const querySnapshot = await getDocs(q);\n      // データベースのtagを確認、なかったら追加。\n      if (!querySnapshot.docs.length) {\n        // eslint-disable-next-line no-unused-vars\n        const documentRef = await addDoc(tagsCorrectionRef, {\n          tag_name: newTag.name,\n        });\n        setTagsId([...tagsId, documentRef.id]);\n      } else {\n        console.log(\"そのtagはもうあるよ\");\n        setTagsId([...tagsId, querySnapshot.docs[0].id]);\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [tags, tagsId]\n    // tagをdbに追加\n  );\n\n  console.log(tagsId);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const authObject = getAuth();\n    const user = authObject.currentUser;\n    const { articleBody } = event.target.elements;\n    if (user !== null) {\n      // 投稿をデータベースに保存\n      const usersCollectionRef = collection(db, \"corrections\");\n      const documentRef = await addDoc(usersCollectionRef, {\n        user_id: user.uid,\n        body: articleBody.value,\n        image_path: props.imageUrl,\n        tagsId,\n      });\n      console.log(documentRef);\n      navigate(0);\n    }\n  };\n\n  return (\n    <AllContainer>\n      <PreviewCover>\n        <Preview src={props.imageUrl} alt=\"uploaded\" />\n      </PreviewCover>\n      <Form onSubmit={handleSubmit}>\n        <ReactTags\n          ref={reactTags}\n          tags={tags}\n          suggestions={suggestions}\n          onAddition={onAddition}\n          onDelete={onDelete}\n          allowNew\n        />\n        <ArticleBody\n          name=\"articleBody\"\n          type=\"text\"\n          placeholder=\"テキストを入力してください\"\n        ></ArticleBody>\n        <input type=\"submit\" value=\"新規投稿\"></input>\n      </Form>\n    </AllContainer>\n  );\n};\n\nexport default SecondArticleDisplay;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { FirstArticleDisplay } from \"../components\";\nimport {} from \"../media/media\"\n\nconst ArticleCreate = () => {\n  const [move, setMove] = useState(\"none\");\n  const handleDisplay = () => setMove(\"flex\");\n\n  const Wrapper = styled.div`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    -webkit-transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n\n    width: 100%;\n    height: 100vh;\n    display: ${move};\n    justify-content: center;\n  `;\n\n  const Card = styled.div`\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    padding-top: 20px;\n  `;\n\n  const CardContainer = styled.div`\n    background: white;\n    width: 700px;\n    height: 500px;\n    border: 1px solid rgba(34,36,38,.15);\n    border-radius: 10px;\n    padding-bottom: 40px;\n    > h4 {\n      font-size: 20px;\n      padding: 15px 0 5px 0;\n    }\n  `;\n\n  return (\n    <>\n      <button onClick={handleDisplay}>投稿</button>\n      <Wrapper>\n        <Card>\n          <CardContainer>\n            <FirstArticleDisplay />\n          </CardContainer>\n        </Card>\n      </Wrapper>\n    </>\n  );\n};\n\nexport default ArticleCreate;\n","import styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport {\n  collection,\n  query,\n  where,\n  getDocs,\n} from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\nimport { db } from \"../firebase\";\nimport { DisplayTags } from \"../components\";\n\nconst ArticleItems = () => {\n  // 記事\n  const Preview = styled.img`\n    width: 100%;\n  `;\n\n  const PreviewCover = styled.div`\n    width: 80%;\n    height: 300px;\n  `;\n\n  const Container = styled.table`\n    display: flex;\n  `;\n\n  const [articles, setArticles] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const authObject = getAuth();\n      const userInfo = authObject.currentUser;\n      const list = [];\n\n      const usersCollectionRef = collection(db, \"corrections\");\n      const q = query(usersCollectionRef, where(\"user_id\", \"==\", userInfo.uid));\n      const querySnapshot = await getDocs(q);\n      querySnapshot.forEach((document) => {\n        // collectionの情報をlistに更新\n        const item = [];\n        item.push(document.data().image_path);\n        item.push(document.data().body);\n        item.push(document.data().user_id);\n        item.push(document.data().tagsId);\n        list.push(item);\n      });\n      setArticles(list);\n    })();\n  }, []);\n\n  // 添削投稿の表示\n  return (\n    <>\n      {articles.map((item, index) => {\n        return (\n          <div key={index}>\n            <Container>\n              <tbody>\n                <tr className=\"ui wide\">\n                  <td>\n                    <PreviewCover>\n                      <Preview src={item[0]} alt=\"article_img\" />\n                    </PreviewCover>\n                  </td>\n                  <td>\n                    <p>{item[1]}</p>\n                    <div>\n                      {item[3].map((n, index) => {\n                        return(\n                          <div key ={index} className=\"column\">\n                            <DisplayTags tagsId={n}/>\n                          </div>\n                        )\n                      })}\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </Container>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nexport default ArticleItems;\n","import { useEffect, useState } from \"react\";\nimport {\n  doc,\n  getDoc,\n} from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nconst DisplayTags = (props) => {\n  const [tag, setTag] = useState(\"\");\n\n  useEffect(() => {\n    (async() => {\n      const tag = [];\n      const tagId = props.tagsId;\n      const tagsRef = doc(db, \"tags\", tagId);\n      const docSnap = await getDoc(tagsRef);\n      tag.push(docSnap.data().tag_name);\n      setTag(tag);\n    })()\n  },[]);\n\n  return(\n    <div>\n      <p>{tag}</p>\n    </div>\n  )\n}\n\nexport default DisplayTags;","import { auth } from \"../firebase\";\nimport { useNavigate, Navigate } from \"react-router-dom\";\nimport { useAuthContext } from \"../context/AuthContext\";\nimport { ArticleCreate, ArticleItems } from \"../components\";\n\nconst Home = () => {\n\n  const { user } = useAuthContext();\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    auth.signOut();\n    navigate(\"/hApp-test/login\");\n  };\n\n  if (!user) {\n    return <Navigate to=\"/hApp-test/Login\" />\n  } else {\n    return (\n      <>\n        <h1>Home</h1>\n        <button onClick={handleLogout}>ログアウト</button>\n        <ArticleCreate />\n        <ArticleItems />\n      </>\n    );\n  }\n};\n\nexport default Home;\n","import React, { useState } from \"react\";\nimport { UserLibrarySelect } from \"../components\";\n\nconst UserLibrary = () => {\n  const [judge, setJudge] = useState(true);\n  const handleFolder = () => (setJudge(true));\n  const handleCorrect = () => (setJudge(false));\n\n  return (\n    <div className=\"ui container\">\n      <div>\n        <button onClick={handleFolder}>自分の作品</button>\n        <button onClick={handleCorrect}>添削作品</button>\n      </div>\n      <UserLibrarySelect judge={judge} />\n    </div>\n  );\n};\n\nexport default UserLibrary;\n","import \"./App.css\";\nimport { AuthProvider } from \"./context/AuthContext\";\nimport { SignUp, Home, Login, UserLibrary } from \"./screens\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <div style={{ margin: \"2em\" }}>\n        <BrowserRouter>\n          <Routes>\n            <Route path=\"/hApp-test\" element={<Home />} />\n            <Route path=\"/hApp-test/signup\" element={<SignUp />} />\n            <Route path=\"/hApp-test/login\" element={<Login/>} />\n            <Route path=\"/hApp-test/UserLibrary\" element={<UserLibrary/>} />\n          </Routes>\n        </BrowserRouter>\n      </div>\n    </AuthProvider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}