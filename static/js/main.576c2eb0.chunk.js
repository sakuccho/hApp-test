(this.webpackJsonphelloworld=this.webpackJsonphelloworld||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n.n(c),a=n(41),s=n.n(a),i=(n(51),n(52),n(11)),j=n(34),b=n(24),o=n(15),l=n(29),u={apiKey:"AIzaSyA8d56r8IkBh7zyhoOdWjeDgq_m1WpEGqE",authDomain:"happ-13cc2.firebaseapp.com",projectId:"happ-13cc2",storageBucket:"happ-13cc2.appspot.com",messagingSenderId:"501355488240",appId:Object({NODE_ENV:"production",PUBLIC_URL:"/hApp-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyA8d56r8IkBh7zyhoOdWjeDgq_m1WpEGqE",REACT_APP_FIREBASE_AUTH_DOMAIN:"happ-13cc2.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"happ-13cc2",REACT_APP_FIREBASE_STORAGE_BUCKET:"happ-13cc2.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"501355488240",REACT_APP_FIREBASE_APP_ID:"1:501355488240:web:c2d956b042583e85f53335",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-5Q9G54XJVL"}).REACT_APP_FIREBASE_SENDER_ID};j.initializeApp(u);var d=Object(o.f)(),O=Object(l.b)(),h=Object(b.b)(),p=n(6),x=Object(c.createContext)();function f(e){var t=e.children,n=Object(c.useState)(""),r=Object(i.a)(n,2),a=r[0],s=r[1],j=Object(c.useState)("true"),b=Object(i.a)(j,2),o=b[0],l=b[1],u={user:a,loading:o};return Object(c.useEffect)((function(){var e=h.onAuthStateChanged((function(e){s(e),l(!1)}));return function(){e()}}),[]),o?Object(p.jsx)("p",{children:"loading..."}):Object(p.jsx)(x.Provider,{value:u,children:t})}var g,m,v,_,E,A,S,w,y,I,k,C,P,R,T=n(0),D=n.n(T),F=n(3),B=n(12),U=function(){var e=Object(B.g)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],a=n[1],s=function(){var t=Object(F.a)(D.a.mark((function t(n){var c,r,s,i,j,l,u;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=n.target.elements,r=c.email,s=c.password,t.prev=2,t.next=5,Object(b.a)(h,r.value,s.value);case 5:if(i=Object(b.b)(),null===(j=i.currentUser)){t.next=14;break}return l=Object(o.b)(d,"users"),t.next=11,Object(o.a)(l,{user_id:j.uid,email:r.value,password:s.value});case 11:u=t.sent,console.log(u),e("/hApp-test");case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),console.log(t.t0),a(t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"\u30e6\u30fc\u30b6\u767b\u9332"}),r&&Object(p.jsx)("p",{style:{color:"red"},children:"\u203b\u5165\u529b\u3057\u305f\u60c5\u5831\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093"}),Object(p.jsxs)("form",{onSubmit:s,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(p.jsx)("input",{name:"email",type:"email",placeholder:"email"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(p.jsx)("input",{name:"password",type:"password"})]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"\u767b\u9332"})})]})]})},N=n(26),L=function(){var e=Object(B.g)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],a=n[1],s=function(){var t=Object(F.a)(D.a.mark((function t(n){var c,r,s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=n.target.elements,r=c.email,s=c.password,console.log(n.target.elements),t.prev=3,t.next=6,Object(b.c)(h,r.value,s.value);case 6:e("/hApp-test"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0),a(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"\u30ed\u30b0\u30a4\u30f3"}),r&&Object(p.jsx)("p",{style:{color:"red"},children:"\u203b\u5165\u529b\u3057\u305f\u60c5\u5831\u304c\u9593\u9055\u3063\u3066\u304a\u308a\u307e\u3059"}),Object(p.jsxs)("form",{onSubmit:s,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(p.jsx)("input",{name:"email",type:"email",placeholder:"email"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(p.jsx)("input",{name:"password",type:"password",placeholder:"password"})]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"\u30ed\u30b0\u30a4\u30f3"})}),Object(p.jsxs)("div",{children:["\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u306f",Object(p.jsx)(N.b,{to:"/signup",children:"\u3053\u3061\u3089"}),"\u304b\u3089"]})]})]})},W=function(e){return e.judge?Object(p.jsx)(G,{}):Object(p.jsx)(z,{})},z=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"correct"})})},G=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"folder"})})},K=n(17),H=n(14),M=n.p+"static/media/4516.d20483bb.png",q=function(){var e=H.b.input(g||(g=Object(K.a)(["\n    display: none;\n  "]))),t=H.b.img(m||(m=Object(K.a)(["\n    width: 35%;\n  "]))),n=H.b.div(v||(v=Object(K.a)(["\n    margin-top: 80px;\n  "]))),r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],j=a[1],b=Object(c.useState)(""),o=Object(i.a)(b,2),u=o[0],d=o[1],h=Object(c.useState)(100),x=Object(i.a)(h,2),f=x[0],_=x[1];return""===s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h4",{children:"\u65b0\u898f\u6dfb\u524a\u3092\u4f5c\u6210"}),Object(p.jsx)("div",{className:"ui divider"}),Object(p.jsx)("div",{children:Object(p.jsxs)(n,{children:[Object(p.jsx)(t,{src:M,alt:""}),Object(p.jsx)("h4",{children:"\u753b\u50cf\u3092\u9078\u307c\u3046\u3088"}),Object(p.jsxs)("label",{className:"ui button",children:["\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u304b\u3089\u9078\u629e",Object(p.jsx)(e,{type:"file",name:"selectImg",accept:"image/*",onChange:function(e){!function(e){var t=e.target.files[0];j(t),console.log("\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u51e6\u7406");var n=Object(l.c)(O,"images/"+t.name),c=Object(l.d)(n,t,{contentType:"image/jpeg"});c.on("state_changed",(function(e){console.log("snapshot",e);var t=e.bytesTransferred/e.totalBytes*100;console.log(t+"% done"),_(t),console.log(f)}),(function(e){console.log("err",e),_(100)}),(function(){Object(l.a)(c.snapshot.ref).then((function(e){console.log("File available at",e),d(e)}))}))}(e)}})]})]})})]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(X,{imageUrl:u})})},J=n(18),V=n(45),Q=n.n(V),X=(n(61),function(e){var t=H.b.img(_||(_=Object(K.a)(["\n    width: 100%;\n  "]))),n=H.b.div(E||(E=Object(K.a)(["\n    width: 50%;\n    height: 300px;\n  "]))),r=H.b.div(A||(A=Object(K.a)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n  "]))),a=H.b.textarea(S||(S=Object(K.a)(["\n    width: 100%;\n    height: 300px;\n    color: gray;\n  "]))),s=H.b.form(w||(w=Object(K.a)(["\n    width: 50%;\n    height: 100%;\n  "]))),j=Object(B.g)(),l=Object(c.useState)([]),u=Object(i.a)(l,2),O=u[0],h=u[1],x=Object(c.useState)([]),f=Object(i.a)(x,2),g=f[0],m=f[1],v=Object(c.useRef)(),y=Object(c.useCallback)(function(){var e=Object(F.a)(D.a.mark((function e(t){var n,c,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(O.filter((function(e,n){return n!==t}))),n=Object(o.b)(d,"tags"),c=Object(o.g)(n,Object(o.h)("tag_name","==",O[t].name)),e.next=5,Object(o.e)(c);case 5:r=e.sent,console.log(r),r.forEach(function(){var e=Object(F.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(g.filter((function(e){return e!==t.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[O,g]),I=Object(c.useCallback)(function(){var e=Object(F.a)(D.a.mark((function e(t){var n,c,r,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h([].concat(Object(J.a)(O),[t])),n=Object(o.b)(d,"tags"),c=Object(o.g)(n,Object(o.h)("tag_name","==",t.name)),e.next=5,Object(o.e)(c);case 5:if((r=e.sent).docs.length){e.next=13;break}return e.next=9,Object(o.a)(n,{tag_name:t.name});case 9:a=e.sent,m([].concat(Object(J.a)(g),[a.id])),e.next=15;break;case 13:console.log("\u305d\u306etag\u306f\u3082\u3046\u3042\u308b\u3088"),m([].concat(Object(J.a)(g),[r.docs[0].id]));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[O,g]);console.log(g);var k=function(){var t=Object(F.a)(D.a.mark((function t(n){var c,r,a,s,i;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c=Object(b.b)(),r=c.currentUser,a=n.target.elements.articleBody,null===r){t.next=11;break}return s=Object(o.b)(d,"corrections"),t.next=8,Object(o.a)(s,{user_id:r.uid,body:a.value,image_path:e.imageUrl,tagsId:g});case 8:i=t.sent,console.log(i),j(0);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)(r,{children:[Object(p.jsx)(n,{children:Object(p.jsx)(t,{src:e.imageUrl,alt:"uploaded"})}),Object(p.jsxs)(s,{onSubmit:k,children:[Object(p.jsx)(Q.a,{ref:v,tags:O,suggestions:[{id:"1",name:"USA"}],onAddition:I,onDelete:y,allowNew:!0}),Object(p.jsx)(a,{name:"articleBody",type:"text",placeholder:"\u30c6\u30ad\u30b9\u30c8\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(p.jsx)("input",{type:"submit",value:"\u65b0\u898f\u6295\u7a3f"})]})]})}),Y=function(){var e=Object(c.useState)("none"),t=Object(i.a)(e,2),n=t[0],r=t[1],a=H.b.div(y||(y=Object(K.a)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    -webkit-transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n\n    width: 100%;\n    height: 100vh;\n    display: ",";\n    justify-content: center;\n  "])),n),s=H.b.div(I||(I=Object(K.a)(["\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    padding-top: 20px;\n  "]))),j=H.b.div(k||(k=Object(K.a)(["\n    background: white;\n    width: 700px;\n    height: 500px;\n    border: 1px solid rgba(34,36,38,.15);\n    border-radius: 10px;\n    padding-bottom: 40px;\n    > h4 {\n      font-size: 20px;\n      padding: 15px 0 5px 0;\n    }\n  "])));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:function(){return r("flex")},children:"\u6295\u7a3f"}),Object(p.jsx)(a,{children:Object(p.jsx)(s,{children:Object(p.jsx)(j,{children:Object(p.jsx)(q,{})})})})]})},Z=function(){var e=H.b.img(C||(C=Object(K.a)(["\n    width: 100%;\n  "]))),t=H.b.div(P||(P=Object(K.a)(["\n    width: 80%;\n    height: 300px;\n  "]))),n=H.b.table(R||(R=Object(K.a)(["\n    display: flex;\n  "]))),r=Object(c.useState)([]),a=Object(i.a)(r,2),s=a[0],j=a[1];return Object(c.useEffect)((function(){Object(F.a)(D.a.mark((function e(){var t,n,c,r,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.b)(),n=t.currentUser,c=[],r=Object(o.b)(d,"corrections"),a=Object(o.g)(r,Object(o.h)("user_id","==",n.uid)),e.next=7,Object(o.e)(a);case 7:e.sent.forEach((function(e){var t=[];t.push(e.data().image_path),t.push(e.data().body),t.push(e.data().user_id),t.push(e.data().tagsId),c.push(t)})),j(c);case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(p.jsx)(p.Fragment,{children:s.map((function(c,r){return Object(p.jsx)("div",{children:Object(p.jsx)(n,{children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{className:"ui wide",children:[Object(p.jsx)("td",{children:Object(p.jsx)(t,{children:Object(p.jsx)(e,{src:c[0],alt:"article_img"})})}),Object(p.jsxs)("td",{children:[Object(p.jsx)("p",{children:c[1]}),Object(p.jsx)("div",{children:c[3].map((function(e,t){return Object(p.jsx)("div",{className:"column",children:Object(p.jsx)($,{tagsId:e})},t)}))})]})]})})})},r)}))})},$=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){Object(F.a)(D.a.mark((function t(){var n,c,r,s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],c=e.tagsId,r=Object(o.c)(d,"tags",c),t.next=5,Object(o.d)(r);case 5:s=t.sent,n.push(s.data().tag_name),a(n);case 8:case"end":return t.stop()}}),t)})))()}),[]),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:r})})},ee=function(){var e=Object(c.useContext)(x).user,t=Object(B.g)();return e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Home"}),Object(p.jsx)("button",{onClick:function(){h.signOut(),t("/hApp-test/login")},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"}),Object(p.jsx)(Y,{}),Object(p.jsx)(Z,{})]}):Object(p.jsx)(B.a,{to:"/hApp-test/Login"})},te=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(p.jsxs)("div",{className:"ui container",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:function(){return r(!0)},children:"\u81ea\u5206\u306e\u4f5c\u54c1"}),Object(p.jsx)("button",{onClick:function(){return r(!1)},children:"\u6dfb\u524a\u4f5c\u54c1"})]}),Object(p.jsx)(W,{judge:n})]})},ne=function(){return Object(p.jsx)(f,{children:Object(p.jsx)("div",{style:{margin:"2em"},children:Object(p.jsx)(N.a,{children:Object(p.jsxs)(B.d,{children:[Object(p.jsx)(B.b,{path:"/hApp-test",element:Object(p.jsx)(ee,{})}),Object(p.jsx)(B.b,{path:"/hApp-test/signup",element:Object(p.jsx)(U,{})}),Object(p.jsx)(B.b,{path:"/hApp-test/login",element:Object(p.jsx)(L,{})}),Object(p.jsx)(B.b,{path:"/hApp-test/UserLibrary",element:Object(p.jsx)(te,{})})]})})})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[62,1,2]]]);
//# sourceMappingURL=main.576c2eb0.chunk.js.map